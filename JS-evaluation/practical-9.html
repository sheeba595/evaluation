<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Multi-Step Checkout</title>
<style>
  body { font-family: Arial; background: #f4f4f4; padding: 20px; }
  h1 { text-align: center; }
  .checkout { max-width: 600px; margin: auto; background: #fff; padding: 20px; border-radius: 8px; box-shadow:0 0 10px rgba(0,0,0,0.1); }
  .step { display: none; }
  .step.active { display: block; }
  input { width: 100%; padding: 8px; margin: 8px 0; }
  button { padding: 8px 15px; margin: 5px; border: none; border-radius: 4px; cursor: pointer; background: #3d85ff; color: white; }
  .order-summary { background: #f0f0f0; padding: 10px; border-radius: 5px; margin-top: 10px; }
</style>
</head>
<body>

<h1>Checkout Process</h1>

<div class="checkout">
  <div class="step active" id="step1">
    <h2>Step 1: Shipping Address</h2>
    <input type="text" id="name" placeholder="Full Name">
    <input type="text" id="address" placeholder="Address">
    <input type="text" id="city" placeholder="City">
    <input type="text" id="zip" placeholder="ZIP Code">
    <button onclick="nextStep()">Next</button>
  </div>

  <div class="step" id="step2">
    <h2>Step 2: Payment Info</h2>
    <input type="text" id="card" placeholder="Credit Card Number">
    <input type="text" id="expiry" placeholder="Expiry (MM/YY)">
    <input type="text" id="cvv" placeholder="CVV">
    <button onclick="prevStep()">Previous</button>
    <button onclick="nextStep()">Next</button>
  </div>

  <div class="step" id="step3">
    <h2>Step 3: Review Order</h2>
    <div class="order-summary" id="orderSummary"></div>
    <button onclick="prevStep()">Previous</button>
    <button onclick="completeOrder()">Place Order</button>
  </div>
</div>

<script>
  let currentStep = 1;

  let cart = [
    { name: "Headphones", price: 1500, quantity: 1 },
    { name: "Smart Watch", price: 2500, quantity: 2 }
  ];

  function showStep(step) {
    document.querySelectorAll(".step").forEach((s, i) => {
      s.classList.toggle("active", i+1 === step);
    });
  }

  function nextStep() {
    if (currentStep === 1) {
      const name = document.getElementById("name").value.trim();
      const address = document.getElementById("address").value.trim();
      if (!name || !address) { alert("Please fill name and address"); return; }
    }

    if (currentStep === 2) {
      const card = document.getElementById("card").value.trim();
      const expiry = document.getElementById("expiry").value.trim();
      const cvv = document.getElementById("cvv").value.trim();
      if (!/^\d{16}$/.test(card) || !/^\d{2}\/\d{2}$/.test(expiry) || !/^\d{3}$/.test(cvv)) {
        alert("Enter valid payment info"); return;
      }
    }

    currentStep++;
    showStep(currentStep);

    if (currentStep === 3) displayOrderSummary();
  }

  function prevStep() {
    currentStep--;
    showStep(currentStep);
  }

  function displayOrderSummary() {
    const summaryDiv = document.getElementById("orderSummary");
    let html = "<h3>Items:</h3>";
    let total = 0;
    cart.forEach(item => {
      const itemTotal = item.price * item.quantity;
      html += `<p>${item.name} x ${item.quantity} = ₹${itemTotal}</p>`;
      total += itemTotal;
    });
    html += `<h3>Total: ₹${total}</h3>`;
    summaryDiv.innerHTML = html;
  }

  function completeOrder() {
    alert("✅ Order placed successfully!");
    location.reload();
  }

  showStep(currentStep);
</script>

</body>
</html>
